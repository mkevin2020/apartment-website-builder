module.exports=[38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},92e3,a=>{"use strict";let b=(0,a.i(70106).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],92e3)},83694,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944);a.i(35025);var e=a.i(9701),f=a.i(40695),g=a.i(5522),h=a.i(3130),i=a.i(21958),j=a.i(38246);let k=(0,a.i(70106).default)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);var l=a.i(92e3);function m(){let a=(0,d.useRouter)(),[m,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)("admin"),[s,t]=(0,c.useState)({username:"",password:""}),[u,v]=(0,c.useState)({username:"",password:""}),[w,x]=(0,c.useState)({email:"",password:""});console.log("Supabase URL:","âœ… Set"),console.log("Supabase Key:","âœ… Set");let y=(0,e.createBrowserClient)("https://dtwoklcuesipnczgzbxj.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR0d29rbGN1ZXNpcG5jemd6YnhqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM5ODU4MDAsImV4cCI6MjA3OTU2MTgwMH0.TSp3ltWMXKd1nBCHsTWg6bIdMRcMTJChUg3CdKXo35Q"),z=async b=>{b.preventDefault(),p(""),n(!0);try{if(!s.username||!s.password){p("Please enter username and password"),n(!1);return}console.log("ðŸ” Attempting admin login with:",s.username);let{data:b,error:c}=await y.from("admin_accounts").select("*").eq("username",s.username).eq("password",s.password);if(console.log("Query data:",b),console.log("Query error:",c),c){console.error("âŒ Query error:",c),p(`Login failed: ${c.message}`),n(!1);return}if(!b||0===b.length){console.error("âŒ No admin found"),p("Invalid username or password"),n(!1);return}console.log("âœ… Admin login successful!"),localStorage.setItem("admin_session",JSON.stringify(b[0])),t({username:"",password:""}),a.push("/admin/dashboard")}catch(a){console.error("âŒ Login error:",a),p("An unexpected error occurred"),n(!1)}},A=async b=>{b.preventDefault(),p(""),n(!0);try{if(!u.username||!u.password){p("Please enter username and password"),n(!1);return}console.log("ðŸ” Attempting employee login with:",u.username);let{data:b,error:c}=await y.from("employees").select("*");if(console.log("All employees:",b),!b||0===b.length){p("No employees found in database"),n(!1);return}let d=b.find(a=>a.username.trim()===u.username.trim()&&a.password.trim()===u.password.trim());if(!d){console.error("âŒ No employee found with matching credentials"),p("Invalid username or password"),n(!1);return}if("active"!==d.status){console.error("âŒ Employee account is inactive"),p("Your account has been deactivated. Contact admin."),n(!1);return}console.log("âœ… Employee login successful!"),localStorage.setItem("employee_session",JSON.stringify(d)),v({username:"",password:""}),a.push("/employee/dashboard")}catch(a){console.error("âŒ Login error:",a),p("An unexpected error occurred"),n(!1)}},B=async b=>{b.preventDefault(),p(""),n(!0);try{if(!w.email||!w.password){p("Please enter email and password"),n(!1);return}console.log("ðŸ” Attempting tenant login with:",w.email);let{data:b,error:c}=await y.from("tenants").select("*").eq("email",w.email).eq("password",w.password);if(console.log("Tenant query data:",b),console.log("Tenant query error:",c),c){console.error("âŒ Query error:",c),p(`Login failed: ${c.message}`),n(!1);return}if(!b||0===b.length){console.error("âŒ No tenant found"),p("Invalid email or password"),n(!1);return}let d=b[0];if("approved"!==d.approval_status){console.error("âŒ Tenant account not approved"),p("pending"===d.approval_status?"Your account is pending admin approval. Please wait.":"Your account has been rejected. Contact admin."),n(!1);return}if(!d.is_active){console.error("âŒ Tenant account is inactive"),p("Your account has been deactivated. Contact admin."),n(!1);return}console.log("âœ… Tenant login successful!"),localStorage.setItem("tenant_session",JSON.stringify(d)),x({email:"",password:""}),a.push("/tenant/dashboard")}catch(a){console.error("âŒ Login error:",a),p("An unexpected error occurred"),n(!1)}};return(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100 p-4",children:(0,b.jsxs)(h.Card,{className:"w-full max-w-md shadow-xl border-0",children:[(0,b.jsxs)(h.CardHeader,{className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white rounded-t-lg pb-6",children:[(0,b.jsxs)(h.CardTitle,{className:"flex items-center gap-2 text-2xl",children:[(0,b.jsx)(k,{className:"h-6 w-6"}),"Cielo Vista Portal"]}),(0,b.jsx)("p",{className:"text-blue-100 text-sm mt-2",children:"Sign in to your account"})]}),(0,b.jsxs)(h.CardContent,{className:"pt-6",children:[o&&(0,b.jsxs)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex gap-2",children:[(0,b.jsx)(l.AlertCircle,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),(0,b.jsx)("p",{className:"text-red-700 text-sm",children:o})]}),(0,b.jsxs)(i.Tabs,{value:q,onValueChange:r,className:"w-full",children:[(0,b.jsxs)(i.TabsList,{className:"grid w-full grid-cols-3 mb-6 bg-slate-100 p-1 rounded-lg",children:[(0,b.jsx)(i.TabsTrigger,{value:"admin",className:"data-[state=active]:bg-white data-[state=active]:text-blue-600 rounded text-xs sm:text-sm",children:"Admin"}),(0,b.jsx)(i.TabsTrigger,{value:"employee",className:"data-[state=active]:bg-white data-[state=active]:text-purple-600 rounded text-xs sm:text-sm",children:"Employee"}),(0,b.jsx)(i.TabsTrigger,{value:"tenant",className:"data-[state=active]:bg-white data-[state=active]:text-green-600 rounded text-xs sm:text-sm",children:"Tenant"})]}),(0,b.jsx)(i.TabsContent,{value:"admin",className:"space-y-4",children:(0,b.jsxs)("form",{onSubmit:z,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Username"}),(0,b.jsx)(g.Input,{type:"text",value:s.username,onChange:a=>t({...s,username:a.target.value}),placeholder:"Enter admin username",disabled:m,required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Password"}),(0,b.jsx)(g.Input,{type:"password",value:s.password,onChange:a=>t({...s,password:a.target.value}),placeholder:"Enter admin password",disabled:m,required:!0})]}),(0,b.jsx)(f.Button,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium",disabled:m,children:m?"Signing in...":"Admin Login"})]})}),(0,b.jsx)(i.TabsContent,{value:"employee",className:"space-y-4",children:(0,b.jsxs)("form",{onSubmit:A,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Username"}),(0,b.jsx)(g.Input,{type:"text",value:u.username,onChange:a=>v({...u,username:a.target.value}),placeholder:"Enter employee username",disabled:m,required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Password"}),(0,b.jsx)(g.Input,{type:"password",value:u.password,onChange:a=>v({...u,password:a.target.value}),placeholder:"Enter employee password",disabled:m,required:!0})]}),(0,b.jsx)(f.Button,{type:"submit",className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-medium",disabled:m,children:m?"Signing in...":"Employee Login"})]})}),(0,b.jsxs)(i.TabsContent,{value:"tenant",className:"space-y-4",children:[(0,b.jsxs)("form",{onSubmit:B,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Email"}),(0,b.jsx)(g.Input,{type:"email",value:w.email,onChange:a=>x({...w,email:a.target.value}),placeholder:"Enter your email",disabled:m,required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Password"}),(0,b.jsx)(g.Input,{type:"password",value:w.password,onChange:a=>x({...w,password:a.target.value}),placeholder:"Enter your password",disabled:m,required:!0})]}),(0,b.jsx)(f.Button,{type:"submit",className:"w-full bg-green-600 hover:bg-green-700 text-white font-medium",disabled:m,children:m?"Signing in...":"Tenant Login"})]}),(0,b.jsxs)("div",{className:"pt-2 border-t",children:[(0,b.jsx)("p",{className:"text-sm text-slate-600 mb-3",children:"Don't have an account?"}),(0,b.jsx)(j.default,{href:"/tenant/register",children:(0,b.jsx)(f.Button,{type:"button",variant:"outline",className:"w-full border-green-300 text-green-700 hover:bg-green-50",children:"Create Tenant Account"})})]})]})]}),(0,b.jsx)("div",{className:"mt-6 text-center",children:(0,b.jsx)(j.default,{href:"/",className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Back to Home"})})]})]})})}a.s(["default",()=>m],83694)}];

//# sourceMappingURL=_843464d6._.js.map