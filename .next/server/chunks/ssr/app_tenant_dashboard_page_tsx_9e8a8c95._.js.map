{"version":3,"sources":["../../../../app/tenant/dashboard/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { createBrowserClient } from \"@supabase/ssr\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport TenantHeader from \"@/components/TenantHeader\";\r\nimport { ChangePasswordModal } from \"@/components/change-password-modal\";\r\nimport {\r\n  Download,\r\n  FileText,\r\n  Wrench,\r\n  CreditCard,\r\n  MapPin,\r\n  Calendar,\r\n  CheckCircle,\r\n  AlertCircle,\r\n  Home,\r\n  DollarSign,\r\n  Bed,\r\n  Bath,\r\n  Maximize2,\r\n  Plus,\r\n  Key,\r\n} from \"lucide-react\";\r\nimport Link from \"next/link\";\r\n\r\ninterface TenantSession {\r\n  id: string;\r\n  full_name: string;\r\n  email: string;\r\n  phone: string;\r\n  lease_start?: string;\r\n  lease_end?: string;\r\n  payment_status?: string;\r\n}\r\n\r\ninterface Apartment {\r\n  id: string | number;\r\n  name: string;\r\n  unit_number?: string;\r\n  monthly_rent?: number;\r\n  price_per_month?: number;\r\n  bedrooms?: number;\r\n  bathrooms?: number;\r\n  size?: number;\r\n  size_sqm?: number;\r\n  description?: string;\r\n  image_url?: string;\r\n  is_available?: boolean;\r\n}\r\n\r\ninterface Booking {\r\n  id: string;\r\n  tenant_id: string;\r\n  apartment_id: string;\r\n  check_in_date: string;\r\n  check_out_date: string;\r\n  status: string;\r\n}\r\n\r\ninterface BookingForm {\r\n  apartment_id: number;\r\n  start_date: string;\r\n  end_date: string;\r\n}\r\n\r\nexport default function TenantDashboard() {\r\n  const router = useRouter();\r\n  const [tenant, setTenant] = useState<TenantSession | null>(null);\r\n  const [booking, setBooking] = useState<Booking | null>(null);\r\n  const [apartment, setApartment] = useState<Apartment | null>(null);\r\n  const [availableApartments, setAvailableApartments] = useState<Apartment[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [bookingForm, setBookingForm] = useState<BookingForm>({\r\n    apartment_id: 0,\r\n    start_date: \"\",\r\n    end_date: \"\",\r\n  });\r\n  const [bookingLoading, setBookingLoading] = useState(false);\r\n  const [bookingSuccess, setBookingSuccess] = useState<string | null>(null);\r\n  const [bookingError, setBookingError] = useState<string | null>(null);\r\n  const [showBookingForm, setShowBookingForm] = useState(false);\r\n  const [isPasswordModalOpen, setIsPasswordModalOpen] = useState(false);\r\n\r\n  const supabase = createBrowserClient(\r\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\r\n  );\r\n\r\n  useEffect(() => {\r\n    const fetchTenantData = async () => {\r\n      try {\r\n        const tenantData = localStorage.getItem(\"tenant_session\");\r\n        if (!tenantData) {\r\n          router.push(\"/login\");\r\n          return;\r\n        }\r\n\r\n        const parsedTenant: TenantSession = JSON.parse(tenantData);\r\n        setTenant(parsedTenant);\r\n\r\n        // Fetch booking details - use query instead of single() to avoid error when no booking exists\r\n        const { data: bookingDataList, error: bookingError } = await supabase\r\n          .from(\"bookings\")\r\n          .select(\"*\")\r\n          .eq(\"tenant_id\", String(parsedTenant.id))\r\n          .order(\"start_date\", { ascending: false })\r\n          .limit(1);\r\n\r\n        if (bookingError && bookingError.message) {\r\n          console.error(\"Error fetching booking:\", bookingError.message);\r\n        }\r\n\r\n        if (bookingDataList && bookingDataList.length > 0) {\r\n          const bookingData = bookingDataList[0];\r\n          setBooking(bookingData);\r\n\r\n          // Fetch apartment details\r\n          const { data: apartmentData, error: apartmentError } = await supabase\r\n            .from(\"apartments\")\r\n            .select(\"*\")\r\n            .eq(\"id\", bookingData.apartment_id)\r\n            .single();\r\n\r\n          if (apartmentError && apartmentError.message) {\r\n            console.error(\"Error fetching apartment:\", apartmentError.message);\r\n          }\r\n\r\n          if (apartmentData) {\r\n            setApartment(apartmentData);\r\n          }\r\n        }\r\n\r\n        // Fetch available apartments\r\n        const { data: availableData, error: availableError } = await supabase\r\n          .from(\"apartments\")\r\n          .select(\"*\")\r\n          .eq(\"is_available\", true)\r\n          .order(\"price_per_month\", { ascending: true });\r\n\r\n        if (availableError && availableError.message) {\r\n          console.error(\"Error fetching available apartments:\", availableError.message);\r\n        } else if (availableData) {\r\n          setAvailableApartments(availableData);\r\n        }\r\n      } catch (err) {\r\n        console.error(\"Error in fetchTenantData:\", err);\r\n        setError(\"Failed to load dashboard data\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchTenantData();\r\n  }, [router, supabase]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\r\n          <p className=\"text-gray-600\">Loading your dashboard...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!tenant) {\r\n    return null;\r\n  }\r\n\r\n  const handleBookApartment = async (apartmentId: number) => {\r\n    if (!bookingForm.start_date || !bookingForm.end_date) {\r\n      setBookingError(\"Please fill in all booking dates\");\r\n      return;\r\n    }\r\n\r\n    if (new Date(bookingForm.start_date) >= new Date(bookingForm.end_date)) {\r\n      setBookingError(\"End date must be after start date\");\r\n      return;\r\n    }\r\n\r\n    setBookingLoading(true);\r\n    setBookingError(null);\r\n\r\n    try {\r\n      const apartmentData = availableApartments.find(a => a.id === apartmentId);\r\n      if (!apartmentData) {\r\n        setBookingError(\"Apartment not found\");\r\n        return;\r\n      }\r\n\r\n      const bookingData = {\r\n        tenant_id: String(tenant.id),\r\n        apartment_id: apartmentId,\r\n        start_date: bookingForm.start_date,\r\n        end_date: bookingForm.end_date,\r\n        status: \"pending\",\r\n        client_name: tenant.full_name,\r\n        email: tenant.email,\r\n        phone_number: tenant.phone || \"\",\r\n        apartment_type: apartmentData.name,\r\n      };\r\n\r\n      const { data, error } = await supabase\r\n        .from(\"bookings\")\r\n        .insert([bookingData])\r\n        .select();\r\n\r\n      if (error) {\r\n        console.error(\"Booking error:\", error);\r\n        \r\n        // If apartment_id column doesn't exist, show helpful message\r\n        if (error.message?.includes(\"apartment_id\")) {\r\n          setBookingError(\r\n            \"Database configuration issue: The booking system needs to be initialized. Please contact support.\"\r\n          );\r\n        } else {\r\n          setBookingError(`Failed to book apartment: ${error.message}`);\r\n        }\r\n        return;\r\n      }\r\n\r\n      if (!data || data.length === 0) {\r\n        setBookingError(\"Booking failed. Please try again.\");\r\n        return;\r\n      }\r\n\r\n      setBookingSuccess(\"Apartment booked successfully! Check your booked apartments.\");\r\n      setBookingForm({ apartment_id: 0, start_date: \"\", end_date: \"\" });\r\n      setShowBookingForm(false);\r\n\r\n      // Refresh the bookings list\r\n      setTimeout(() => {\r\n        window.location.reload();\r\n      }, 2000);\r\n    } catch (err) {\r\n      console.error(\"Error booking apartment:\", err);\r\n      setBookingError(\"An error occurred while booking the apartment\");\r\n    } finally {\r\n      setBookingLoading(false);\r\n    }\r\n  };\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\r\n        <div className=\"text-center max-w-md\">\r\n          <AlertCircle className=\"h-16 w-16 text-red-600 mx-auto mb-4\" />\r\n          <h2 className=\"text-2xl font-bold text-gray-800 mb-2\">Error</h2>\r\n          <p className=\"text-gray-600 mb-6\">{error}</p>\r\n          <Button onClick={() => window.location.reload()}>Try Again</Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const getPaymentStatusColor = (status: string) => {\r\n    switch (status?.toLowerCase()) {\r\n      case \"paid\":\r\n        return \"bg-green-100 text-green-800 border-green-300\";\r\n      case \"pending\":\r\n        return \"bg-yellow-100 text-yellow-800 border-yellow-300\";\r\n      case \"overdue\":\r\n        return \"bg-red-100 text-red-800 border-red-300\";\r\n      default:\r\n        return \"bg-gray-100 text-gray-800 border-gray-300\";\r\n    }\r\n  };\r\n\r\n  const getPaymentStatusIcon = (status: string) => {\r\n    switch (status?.toLowerCase()) {\r\n      case \"paid\":\r\n        return <CheckCircle className=\"h-5 w-5\" />;\r\n      case \"overdue\":\r\n        return <AlertCircle className=\"h-5 w-5\" />;\r\n      default:\r\n        return <CreditCard className=\"h-5 w-5\" />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      <TenantHeader tenant={tenant} />\r\n\r\n      <main className=\"container mx-auto px-4 py-8\">\r\n        {/* Welcome Section */}\r\n        <div className=\"mb-8 flex justify-between items-start\">\r\n          <div>\r\n            <h1 className=\"text-4xl font-bold text-gray-900 mb-2\">\r\n              Welcome back, {tenant.full_name}! ðŸ‘‹\r\n            </h1>\r\n            <p className=\"text-gray-600\">Manage your apartment and stay updated</p>\r\n          </div>\r\n          <Button\r\n            onClick={() => setIsPasswordModalOpen(true)}\r\n            variant=\"outline\"\r\n            className=\"flex items-center gap-2\"\r\n          >\r\n            <Key className=\"h-4 w-4\" />\r\n            Change Password\r\n          </Button>\r\n        </div>\r\n\r\n        {/* Quick Stats */}\r\n        {apartment && (\r\n          <div className=\"grid md:grid-cols-4 gap-4 mb-8\">\r\n            <Card>\r\n              <CardContent className=\"pt-6\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-600\">Monthly Rent</p>\r\n                    <p className=\"text-2xl font-bold text-blue-600\">\r\n                      ${apartment.monthly_rent}\r\n                    </p>\r\n                  </div>\r\n                  <DollarSign className=\"h-10 w-10 text-blue-200\" />\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            <Card>\r\n              <CardContent className=\"pt-6\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-600\">Bedrooms</p>\r\n                    <p className=\"text-2xl font-bold text-purple-600\">\r\n                      {apartment.bedrooms}\r\n                    </p>\r\n                  </div>\r\n                  <Home className=\"h-10 w-10 text-purple-200\" />\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            <Card>\r\n              <CardContent className=\"pt-6\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-600\">Unit Number</p>\r\n                    <p className=\"text-2xl font-bold text-indigo-600\">\r\n                      {apartment.unit_number}\r\n                    </p>\r\n                  </div>\r\n                  <MapPin className=\"h-10 w-10 text-indigo-200\" />\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            <Card>\r\n              <CardContent className=\"pt-6\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-600\">Payment Status</p>\r\n                    <p className=\"text-2xl font-bold capitalize\">\r\n                      {tenant.payment_status || \"N/A\"}\r\n                    </p>\r\n                  </div>\r\n                  <div className={`h-10 w-10 rounded-full flex items-center justify-center ${getPaymentStatusColor(tenant.payment_status || \"\")}`}>\r\n                    {getPaymentStatusIcon(tenant.payment_status || \"\")}\r\n                  </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n        )}\r\n\r\n        {/* Main Content Grid */}\r\n        <div className=\"grid lg:grid-cols-3 gap-8\">\r\n          {/* Left Column - Information */}\r\n          <div className=\"lg:col-span-2 space-y-6\">\r\n            {/* Apartment Details */}\r\n            {apartment ? (\r\n              <Card>\r\n                <CardHeader>\r\n                  <CardTitle className=\"flex items-center gap-2\">\r\n                    <Home className=\"h-5 w-5 text-blue-600\" />\r\n                    Your Apartment\r\n                  </CardTitle>\r\n                </CardHeader>\r\n                <CardContent className=\"space-y-6\">\r\n                  <div className=\"grid md:grid-cols-2 gap-6\">\r\n                    <div>\r\n                      <p className=\"text-sm font-medium text-gray-500 uppercase\">\r\n                        Apartment Name\r\n                      </p>\r\n                      <p className=\"text-lg font-semibold text-gray-900 mt-1\">\r\n                        {apartment.name}\r\n                      </p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-sm font-medium text-gray-500 uppercase\">\r\n                        Unit Number\r\n                      </p>\r\n                      <p className=\"text-lg font-semibold text-gray-900 mt-1\">\r\n                        {apartment.unit_number}\r\n                      </p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-sm font-medium text-gray-500 uppercase\">\r\n                        Size\r\n                      </p>\r\n                      <p className=\"text-lg font-semibold text-gray-900 mt-1\">\r\n                        {apartment.size} sqft\r\n                      </p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-sm font-medium text-gray-500 uppercase\">\r\n                        Bathrooms\r\n                      </p>\r\n                      <p className=\"text-lg font-semibold text-gray-900 mt-1\">\r\n                        {apartment.bathrooms}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                  {apartment.description && (\r\n                    <div className=\"pt-4 border-t\">\r\n                      <p className=\"text-sm font-medium text-gray-500 uppercase\">\r\n                        Description\r\n                      </p>\r\n                      <p className=\"text-gray-700 mt-2\">{apartment.description}</p>\r\n                    </div>\r\n                  )}\r\n                </CardContent>\r\n              </Card>\r\n            ) : (\r\n              <Card>\r\n                <CardContent className=\"pt-6\">\r\n                  <p className=\"text-gray-600\">No apartment assigned yet</p>\r\n                </CardContent>\r\n              </Card>\r\n            )}\r\n\r\n            {/* Lease Information */}\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"flex items-center gap-2\">\r\n                  <Calendar className=\"h-5 w-5 text-green-600\" />\r\n                  Lease Information\r\n                </CardTitle>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-6\">\r\n                <div className=\"grid md:grid-cols-2 gap-6\">\r\n                  <div>\r\n                    <p className=\"text-sm font-medium text-gray-500 uppercase\">\r\n                      Lease Start Date\r\n                    </p>\r\n                    <p className=\"text-lg font-semibold text-gray-900 mt-1\">\r\n                      {tenant.lease_start\r\n                        ? new Date(tenant.lease_start).toLocaleDateString(\"en-US\", {\r\n                            year: \"numeric\",\r\n                            month: \"long\",\r\n                            day: \"numeric\",\r\n                          })\r\n                        : \"N/A\"}\r\n                    </p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-sm font-medium text-gray-500 uppercase\">\r\n                      Lease End Date\r\n                    </p>\r\n                    <p className=\"text-lg font-semibold text-gray-900 mt-1\">\r\n                      {tenant.lease_end\r\n                        ? new Date(tenant.lease_end).toLocaleDateString(\"en-US\", {\r\n                            year: \"numeric\",\r\n                            month: \"long\",\r\n                            day: \"numeric\",\r\n                          })\r\n                        : \"N/A\"}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n\r\n          {/* Right Column - Quick Actions */}\r\n          <div className=\"space-y-6\">\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle>Quick Actions</CardTitle>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-3\">\r\n                <Button\r\n                  asChild\r\n                  className=\"w-full justify-start gap-2 bg-blue-600 hover:bg-blue-700\"\r\n                >\r\n                  <Link href=\"/tenant/booked-apartments\">\r\n                    <Home className=\"h-4 w-4\" />\r\n                    My Booked Apartments\r\n                  </Link>\r\n                </Button>\r\n\r\n                <Button\r\n                  asChild\r\n                  className=\"w-full justify-start gap-2 bg-blue-600 hover:bg-blue-700\"\r\n                >\r\n                  <Link href=\"/tenant/apartments\">\r\n                    <Home className=\"h-4 w-4\" />\r\n                    View Apartments\r\n                  </Link>\r\n                </Button>\r\n\r\n                <Button\r\n                  asChild\r\n                  className=\"w-full justify-start gap-2 bg-blue-600 hover:bg-blue-700\"\r\n                >\r\n                  <Link href=\"/tenant/profile\">\r\n                    <FileText className=\"h-4 w-4\" />\r\n                    View Profile\r\n                  </Link>\r\n                </Button>\r\n\r\n                <Button asChild variant=\"outline\" className=\"w-full justify-start gap-2\">\r\n                  <Link href=\"/tenant/payment-history\">\r\n                    <CreditCard className=\"h-4 w-4\" />\r\n                    Payment History\r\n                  </Link>\r\n                </Button>\r\n\r\n                <Button asChild variant=\"outline\" className=\"w-full justify-start gap-2\">\r\n                  <Link href=\"/tenant/maintenance\">\r\n                    <Wrench className=\"h-4 w-4\" />\r\n                    Request Maintenance\r\n                  </Link>\r\n                </Button>\r\n\r\n                <Button asChild variant=\"outline\" className=\"w-full justify-start gap-2\">\r\n                  <Link href=\"/tenant/profile\">\r\n                    <Download className=\"h-4 w-4\" />\r\n                    Download Contract\r\n                  </Link>\r\n                </Button>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            {/* Contact Information */}\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle>Contact Information</CardTitle>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-4\">\r\n                <div>\r\n                  <p className=\"text-sm text-gray-600\">Full Name</p>\r\n                  <p className=\"font-semibold text-gray-900\">{tenant.full_name}</p>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-sm text-gray-600\">Email</p>\r\n                  <p className=\"font-semibold text-gray-900 break-all\">{tenant.email}</p>\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-sm text-gray-600\">Phone</p>\r\n                  <p className=\"font-semibold text-gray-900\">{tenant.phone || \"N/A\"}</p>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Available Apartments Section */}\r\n        <div className=\"mt-12\">\r\n          <div className=\"mb-6\">\r\n            <h2 className=\"text-3xl font-bold text-gray-900 mb-2\">Available Apartments</h2>\r\n            <p className=\"text-gray-600\">Browse and book from our available apartments</p>\r\n          </div>\r\n\r\n          {bookingSuccess && (\r\n            <div className=\"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg flex items-start gap-3\">\r\n              <CheckCircle className=\"h-5 w-5 text-green-600 mt-0.5 flex-shrink-0\" />\r\n              <div>\r\n                <p className=\"font-semibold text-green-900\">{bookingSuccess}</p>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {availableApartments.length > 0 ? (\r\n            <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n              {availableApartments.map((apt) => (\r\n                <Card key={apt.id} className=\"overflow-hidden hover:shadow-lg transition-shadow flex flex-col\">\r\n                  <div className=\"relative h-48 w-full bg-gradient-to-br from-blue-100 to-blue-50 flex items-center justify-center\">\r\n                    <Home className=\"h-16 w-16 text-blue-300\" />\r\n                  </div>\r\n\r\n                  <CardHeader>\r\n                    <CardTitle className=\"text-lg\">{apt.name}</CardTitle>\r\n                    <p className=\"text-2xl font-bold text-blue-600 mt-2\">\r\n                      ${apt.price_per_month || apt.monthly_rent}/mo\r\n                    </p>\r\n                  </CardHeader>\r\n\r\n                  <CardContent className=\"space-y-4 flex-grow\">\r\n                    <div className=\"grid grid-cols-3 gap-3 text-sm\">\r\n                      {apt.bedrooms && (\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <Bed className=\"h-4 w-4 text-blue-600\" />\r\n                          <span>{apt.bedrooms} BR</span>\r\n                        </div>\r\n                      )}\r\n                      {apt.bathrooms && (\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <Bath className=\"h-4 w-4 text-blue-600\" />\r\n                          <span>{apt.bathrooms} BA</span>\r\n                        </div>\r\n                      )}\r\n                      {(apt.size || apt.size_sqm) && (\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <Maximize2 className=\"h-4 w-4 text-blue-600\" />\r\n                          <span>{apt.size || apt.size_sqm} sqm</span>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n\r\n                    {apt.description && (\r\n                      <p className=\"text-sm text-gray-600\">{apt.description}</p>\r\n                    )}\r\n\r\n                    <Button\r\n                      onClick={() => {\r\n                        setShowBookingForm(!showBookingForm);\r\n                        setBookingForm({ ...bookingForm, apartment_id: apt.id as number });\r\n                      }}\r\n                      className=\"w-full gap-2 bg-blue-600 hover:bg-blue-700\"\r\n                    >\r\n                      <Plus className=\"h-4 w-4\" />\r\n                      Book Apartment\r\n                    </Button>\r\n\r\n                    {showBookingForm && bookingForm.apartment_id === apt.id && (\r\n                      <div className=\"mt-4 p-4 bg-blue-50 rounded-lg space-y-3 border border-blue-200\">\r\n                        {bookingError && (\r\n                          <div className=\"p-3 bg-red-50 border border-red-200 rounded text-sm text-red-700\">\r\n                            {bookingError}\r\n                          </div>\r\n                        )}\r\n                        <div>\r\n                          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                            Move-in Date\r\n                          </label>\r\n                          <Input\r\n                            type=\"date\"\r\n                            value={bookingForm.start_date}\r\n                            onChange={(e) =>\r\n                              setBookingForm({ ...bookingForm, start_date: e.target.value })\r\n                            }\r\n                            className=\"w-full\"\r\n                          />\r\n                        </div>\r\n                        <div>\r\n                          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                            Move-out Date\r\n                          </label>\r\n                          <Input\r\n                            type=\"date\"\r\n                            value={bookingForm.end_date}\r\n                            onChange={(e) =>\r\n                              setBookingForm({ ...bookingForm, end_date: e.target.value })\r\n                            }\r\n                            className=\"w-full\"\r\n                          />\r\n                        </div>\r\n                        <div className=\"flex gap-2 pt-2\">\r\n                          <Button\r\n                            onClick={() => handleBookApartment(apt.id as number)}\r\n                            disabled={bookingLoading}\r\n                            className=\"flex-1 bg-green-600 hover:bg-green-700\"\r\n                          >\r\n                            {bookingLoading ? \"Booking...\" : \"Confirm Booking\"}\r\n                          </Button>\r\n                          <Button\r\n                            onClick={() => {\r\n                              setShowBookingForm(false);\r\n                              setBookingError(null);\r\n                            }}\r\n                            variant=\"outline\"\r\n                            className=\"flex-1\"\r\n                          >\r\n                            Cancel\r\n                          </Button>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </CardContent>\r\n                </Card>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <Card>\r\n              <CardContent className=\"pt-6 text-center\">\r\n                <AlertCircle className=\"h-12 w-12 text-gray-400 mx-auto mb-3\" />\r\n                <p className=\"text-gray-600 text-lg\">No apartments available at the moment</p>\r\n              </CardContent>\r\n            </Card>\r\n          )}\r\n        </div>\r\n      </main>\r\n\r\n      <ChangePasswordModal\r\n        isOpen={isPasswordModalOpen}\r\n        onClose={() => setIsPasswordModalOpen(false)}\r\n        table=\"tenants\"\r\n        userId={tenant?.id || \"\"}\r\n      />\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}